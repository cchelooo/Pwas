{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import ItemModal from\"./ItemModal\";import{ClipLoader}from\"react-spinners\";import{getProducts}from\"../Data/AsyncMock\";import useCartStore from\"../../Store/CartStore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Shop=()=>{const[selectedProduct,setSelectedProduct]=useState(null);const[loading,setLoading]=useState(true);const{products,initializeProducts,addToCart}=useCartStore();const[selectedCategory,setSelectedCategory]=useState(\"Todos\");useEffect(()=>{const fetchAndInitializeProducts=async()=>{const storedProducts=JSON.parse(localStorage.getItem(\"products\"));if(storedProducts){initializeProducts(storedProducts);}else{const fetchedProducts=await getProducts();initializeProducts(fetchedProducts);}setLoading(false);};fetchAndInitializeProducts();},[initializeProducts]);const handleBuyClick=product=>{setSelectedProduct(product);};const handleAddToCart=(product,quantity)=>{if(product.stock>=quantity){addToCart(product,quantity);setSelectedProduct(null);}else{alert(\"Stock insuficiente\");}};const handleCloseModal=()=>{setSelectedProduct(null);};const filteredProducts=selectedCategory===\"Todos\"?products:products.filter(product=>product.category===selectedCategory);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[1240px] mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-[#e6e8eb] text-center mb-8\",children:\"Tienda\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-center gap-4 mb-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(\"Todos\"),className:\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(\"Minimalista\"),className:\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\",children:\"Minimalista\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(\"Gamer\"),className:\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\",children:\"Gamer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(\"Contemporáneo\"),className:\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\",children:\"Contempor\\xE1neo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(\"Moderno\"),className:\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\",children:\"Moderno\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsx(ClipLoader,{color:\"#5f81a9\",size:50})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",children:filteredProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#131518] rounded-lg shadow-lg overflow-hidden flex flex-col items-center p-4 w-full sm:w-[280px]\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:product.name,className:\"h-32 sm:h-40 w-full object-cover mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg sm:text-xl font-bold text-[#e6e8eb] text-center\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-base text-[#aebbc9] text-center\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-base text-[#aebbc9] text-center\",children:[\"Stock: \",product.stock]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBuyClick(product),className:\"w-full mt-4 px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm sm:text-base\",children:\"Comprar\"})]},product.id))}),selectedProduct&&/*#__PURE__*/_jsx(ItemModal,{product:selectedProduct,onClose:handleCloseModal,onAddToCart:handleAddToCart})]});};export default Shop;","map":{"version":3,"names":["React","useState","useEffect","ItemModal","ClipLoader","getProducts","useCartStore","jsx","_jsx","jsxs","_jsxs","Shop","selectedProduct","setSelectedProduct","loading","setLoading","products","initializeProducts","addToCart","selectedCategory","setSelectedCategory","fetchAndInitializeProducts","storedProducts","JSON","parse","localStorage","getItem","fetchedProducts","handleBuyClick","product","handleAddToCart","quantity","stock","alert","handleCloseModal","filteredProducts","filter","category","className","children","onClick","color","size","map","src","img","alt","name","price","id","onClose","onAddToCart"],"sources":["C:/Users/msant/Documents/GitHub/Pwas/src/components/Shopping/Shop.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ItemModal from \"./ItemModal\";\r\nimport { ClipLoader } from \"react-spinners\"; \r\nimport { getProducts } from \"../Data/AsyncMock\";\r\nimport useCartStore from \"../../Store/CartStore\";\r\n\r\nconst Shop = () => {\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const { products, initializeProducts, addToCart } = useCartStore();\r\n  const [selectedCategory, setSelectedCategory] = useState(\"Todos\");\r\n\r\n  useEffect(() => {\r\n    const fetchAndInitializeProducts = async () => {\r\n      const storedProducts = JSON.parse(localStorage.getItem(\"products\"));\r\n      if (storedProducts) {\r\n        initializeProducts(storedProducts);\r\n      } else {\r\n        const fetchedProducts = await getProducts();\r\n        initializeProducts(fetchedProducts);\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchAndInitializeProducts();\r\n  }, [initializeProducts]);\r\n\r\n  const handleBuyClick = (product) => {\r\n    setSelectedProduct(product);\r\n  };\r\n\r\n  const handleAddToCart = (product, quantity) => {\r\n    if (product.stock >= quantity) {\r\n      addToCart(product, quantity);\r\n      setSelectedProduct(null); \r\n    } else {\r\n      alert(\"Stock insuficiente\");\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setSelectedProduct(null);\r\n  };\r\n\r\n  const filteredProducts =\r\n    selectedCategory === \"Todos\"\r\n      ? products\r\n      : products.filter((product) => product.category === selectedCategory);\r\n\r\n  return (\r\n    <div className=\"max-w-[1240px] mx-auto px-4 py-8\">\r\n      <h1 className=\"text-4xl font-bold text-[#e6e8eb] text-center mb-8\">Tienda</h1>\r\n\r\n      <div className=\"flex flex-wrap justify-center gap-4 mb-8\">\r\n        <button\r\n          onClick={() => setSelectedCategory(\"Todos\")}\r\n          className=\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\"\r\n        >\r\n          Todos\r\n        </button>\r\n        <button\r\n          onClick={() => setSelectedCategory(\"Minimalista\")}\r\n          className=\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\"\r\n        >\r\n          Minimalista\r\n        </button>\r\n        <button\r\n          onClick={() => setSelectedCategory(\"Gamer\")}\r\n          className=\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\"\r\n        >\r\n          Gamer\r\n        </button>\r\n        <button\r\n          onClick={() => setSelectedCategory(\"Contemporáneo\")}\r\n          className=\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\"\r\n        >\r\n          Contemporáneo\r\n        </button>\r\n        <button\r\n          onClick={() => setSelectedCategory(\"Moderno\")}\r\n          className=\"px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm\"\r\n        >\r\n          Moderno\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"flex justify-center items-center min-h-screen\">\r\n          <ClipLoader color=\"#5f81a9\" size={50} />\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n          {filteredProducts.map((product) => (\r\n            <div\r\n              key={product.id}\r\n              className=\"bg-[#131518] rounded-lg shadow-lg overflow-hidden flex flex-col items-center p-4 w-full sm:w-[280px]\"\r\n            >\r\n              <img\r\n                src={product.img}\r\n                alt={product.name}\r\n                className=\"h-32 sm:h-40 w-full object-cover mb-4\"\r\n              />\r\n              <h3 className=\"text-lg sm:text-xl font-bold text-[#e6e8eb] text-center\">\r\n                {product.name}\r\n              </h3>\r\n              <p className=\"text-sm sm:text-base text-[#aebbc9] text-center\">\r\n                ${product.price}\r\n              </p>\r\n              <p className=\"text-sm sm:text-base text-[#aebbc9] text-center\">\r\n                Stock: {product.stock}\r\n              </p>\r\n              <button\r\n                onClick={() => handleBuyClick(product)}\r\n                className=\"w-full mt-4 px-4 py-2 bg-[#5f81a9] text-white rounded-md hover:bg-[#5f81a9]/80 text-sm sm:text-base\"\r\n              >\r\n                Comprar\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {selectedProduct && (\r\n        <ItemModal\r\n          product={selectedProduct}\r\n          onClose={handleCloseModal}\r\n          onAddToCart={handleAddToCart}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}